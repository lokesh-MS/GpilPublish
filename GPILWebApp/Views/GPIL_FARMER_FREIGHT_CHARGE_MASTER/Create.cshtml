@model GPILWebApp.Models.GPIL_FARMER_FREIGHT_CHARGE_MASTER



@{ ViewBag.Root = "Master";
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 style="text-align:center; color:#438EB9">Create</h2>

@using (Html.BeginForm(FormMethod.Post))
{
    @Html.AntiForgeryToken()

<div class="form-horizontal">

    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    <div class="row">
        <div class="col-sm-6">
            <div class="sm-3">

                <label class="control-label">FREIGHT_ID</label>
                @*@Html.EditorFor(model => model.FREIGHT_ID, new { htmlAttributes = new { @class = "form-control" }, id = "txtFreightID", @onchange = "FreightIDCheck();" })*@
                @Html.EditorFor(model => model.FREIGHT_ID, new { htmlAttributes = new { @class = "form-control", id = "txtFreightID", @onchange = "FreightIDCheck();" } })
                @Html.ValidationMessageFor(model => model.FREIGHT_ID, "", new { @class = "text-danger" })

            </div>
        </div>
        <div class="col-sm-6">
            <div class="sm-3">
              
                <label class="control-label">CROP</label>
                @Html.DropDownList("CROP", null, "SELECT CROP", htmlAttributes: new { @class = "form-control" ,id="Crop"})
                @Html.ValidationMessageFor(model => model.CROP, "", new { @class = "text-danger" })

            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <div class="sm-3">
               
                <label class="control-label">VARIETY</label>
                @Html.DropDownList("VARIETY", null, "SELECT VARIETY", htmlAttributes: new { @class = "form-control",id="Variety" })
                @Html.ValidationMessageFor(model => model.VARIETY, "", new { @class = "text-danger" })

            </div>
        </div>
        <div class="col-sm-6">
            <div class="sm-3">
           
                <label class="control-label">VILLAGE_CODE</label>

                @Html.DropDownList("VILLAGE_CODE", null, "SELECT VILLAGE CODE", htmlAttributes: new { @class = "form-control",id="VillageCode" })
                @Html.ValidationMessageFor(model => model.VILLAGE_CODE, "", new { @class = "text-danger" })

            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <div class="sm-3">
               
                <label class="control-label">ORGN_CODE</label>

                @Html.DropDownList("ORGN_CODE", null, "SELECT ORGN TYPE", htmlAttributes: new { @class = "form-control",id="OrginCode" })
                @Html.ValidationMessageFor(model => model.ORGN_CODE, "", new { @class = "text-danger" })

            </div>
        </div>

        <div class="col-sm-6">

            <div class="sm-3">
                <label class="control-label">FREIGHT_CHARGE</label>

                @Html.EditorFor(model => model.FREIGHT_CHARGE, new { htmlAttributes = new { @class = "form-control", id = "FreightCharge" } })
                @Html.ValidationMessageFor(model => model.FREIGHT_CHARGE, "", new { @class = "text-danger" })


            </div>
            @*<div class="sm-3">

            <label class="control-label">LAST_FREIGHT_CHARGE</label>

            @Html.EditorFor(model => model.LAST_FREIGHT_CHARGE, new { htmlAttributes = new { @class = "form-control", id = "LastFreightCharge" } })
            @Html.ValidationMessageFor(model => model.LAST_FREIGHT_CHARGE, "", new { @class = "text-danger" })

        </div>*@
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <div class="sm-3">
                <label class="control-label">*Status </label>
                @Html.DropDownListFor(model => model.STATUS, new List<SelectListItem> {
                new SelectListItem {Text="Y" ,Value="Y" },
                new SelectListItem {Text="N" ,Value="N" }
           }, "SELECT STATUS", new { @class = "form-control", @id = "ddlStatus" })
                @Html.ValidationMessageFor(model => model.STATUS, "", new { @class = "text-danger" })
            </div>

        </div>
        <div class="col-sm-6">
          


        </div>

            <div class="col-sm-6">
               
            </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <div class="sm-3">

                <p id="notify" style="display:none"> @TempData["SuccessMessage"]</p>

            </div>
        </div>
        <div class="col-sm-6">
            <div class="sm-3">
               
              

            </div>
        </div>
    </div>
    <div class="row">

        <div class="col-sm-6">
            <div class="sm-3">
          
                @*<label class="control-label">FLAG</label>

                @Html.EditorFor(model => model.FLAG, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.FLAG, "", new { @class = "text-danger" })*@

            </div>
        </div>
        <div class="col-sm-6">
            <div class="sm-3">
               
                @*<label class="control-label">CREATED_BY</label>

                @Html.DropDownList("CREATED_BY", null, htmlAttributes: new { @class = "form-control" })
                @Html.ValidationMessageFor(model => model.CREATED_BY, "", new { @class = "text-danger" })*@

            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-sm-6">
            <div class="sm-3">
            
                @*<label class="control-label">CREATED_DATE</label>
                @Html.EditorFor(model => model.CREATED_DATE, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.CREATED_DATE, "", new { @class = "text-danger" })*@

            </div>
        </div>
        <div class="col-sm-6">
            <div class="sm-3">
            
                @*<label class="control-label">LAST_UPDATED_BY</label>

                @Html.EditorFor(model => model.LAST_UPDATED_BY, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.LAST_UPDATED_BY, "", new { @class = "text-danger" })*@
            
            </div>
            </div>
        </div>



        <div class="row">
            <div class="col-sm-6">
                <div class="sm-3">
                    <div class="md-10">
                       
                        <input type="submit" id="btnSubmit" value="Create" style="width:95px" class="btn btn-success btn-sm" />
                        <input type="button" id="btnView" value="Cancel" style="width:95px" onclick=@("window.location.href='" + @Url.Action("Index", "GPIL_ITEM_MASTER") + "'") ; class="btn btn-primary btn-sm" />
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
               
                <div class="col-sm-6">
                    <p id="notify" style="display:none"> @TempData["SuccessMessage"]</p>

                </div>
            </div>
        </div>

 



<div>
    @Html.ActionLink("Back to List", "Index")
</div>
    </div>
}
<script src="~/Scripts/jquery-3.0.0.min.js"></script>
<script src="~/assets/js/sweetalert.min.js"></script>
<link href="~/assets/css/sweetalert.css" rel="stylesheet" />
<script>
    var mes = document.getElementById("notify").innerHTML
    if (mes.startsWith("Success", 1)) {
        sweetAlert("Done", mes, "success");
        setTimeout(function () {
            window.location = "/GPIL_FARMER_FREIGHT_CHARGE_MASTER/Index";

        }, 2000)
    }
    function FreightIDCheck() {
        var userID = $("#txtFreightID").val();
        alert(userID)
       $.ajax({
           url: '@Url.Action("CheckVillageAvailability", "GPIL_FARMER_FREIGHT_CHARGE_MASTER")',
           type: "POST",
           datatype: 'json',
           data: { 'FreightID': userID },
           success: function (data) {
               if (data != '') {
                   var user = JSON.parse(data);
                   $("#Status").html('<font color="Green"></font>');
                   $("#txtFreightID").css("border-color", "Green");
                   $('#Crop').val(user[0].CROP);
                   $('#Variety').val(user[0].VARIETY);
                   $('#VillageCode').val(user[0].VILLAGE_CODE);
                   $('#OrginCode').val(user[0].ORGN_CODE);
                   //$('#Remarks').val(user[0].CLUSTER_CODE);
                   $('#LastFreightCharge').val(user[0].LAST_FREIGHT_CHARGE);
                   $('#FreightCharge').val(user[0].FREIGHT_CHARGE);
                   //$('#txtVarietyDesc').val(user[0].VARIETY_DESC);
                   $('#ddlStatus').val(user[0].STATUS);
                   $('#btnSubmit').val("Update");
               }
               if (data == 0) {
                   $("#Status").html('<font color="Green"> Taken !. you can create ID.</font>');
                   $("#txtFreightID").css("border-color", "Green");
                   $('#Crop').val('');
                   $('#Variety').val('');
                   $('#VillageCode').val('');
                   $('#OrginCode').val('');
                   $('#Remarks').val('');
                   $('#LastFreightCharge').val('');
                   $('#FreightCharge').val('');
                   //$('#txtVarietyDesc').val('');
                   $('#ddlStatus').val('');

                   $('#btnSubmit').val("Create");
               }
           },
           error: function () { alert("Huh? What? What did you need?.") }
       });
   }

    //$(document).ready(function () {
    //    //$('#txtItemCode').change(function () {
    //    //    var Crop = $('#txtItemCode').val().substring(0, 2);
    //    //    var Variety = $('#txtItemCode').val().substring(2, 4);
    //    //    $('#txtVariety').val(Variety);
    //    //    $('#txtCrop').val(Crop);

    //    //});






    //});





</script>